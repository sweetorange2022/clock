# 🕑 Clock 时钟&倒计时工具 - 更新日记
[🕑 在线访问 Clock](https://sweetorange2022.github.io/clock/)

## 核心功能说明
本工具包含**数字/模拟时钟** + **自定义终点时间倒计时** 两大核心功能，支持全屏显示、倒计时状态记忆、动态字体适配等特性，视觉风格简洁统一，交互体验流畅。

## 详细更新记录
### 2023.04.27 23:55
- 新增功能：页面右侧添加「全屏显示」按钮，点击可进入全屏模式，全屏状态下按钮文字自动切换为「退出全屏」，支持一键退出。

### 2023.04.29 11:38
- 布局优化：调整页面元素排布逻辑，使按钮、时钟/倒计时区域布局更合理；
- 代码重构：梳理 JS 代码结构，拆分工具函数与业务逻辑，提升代码可读性和维护性。

### 2026.02.23 核心优化（体验&视觉&稳定性全面升级）
#### 一、功能稳定性修复（核心BUG解决）
1. 倒计时定时器优化：修复多次点击「倒计时/重新设置」按钮导致定时器叠加、倒计时数字加速/错乱的问题，新增定时器唯一性校验；
2. 倒计时状态管理：
   - 自动清除过期状态：返回时钟再切回倒计时时，若目标时间已过则自动重置状态，不再显示无效倒计时；
   - 解决弹窗默认值异常：修复倒计时设置弹窗默认显示 `NaN` 的问题，新增空值容错逻辑，默认选中当前可用的最近时间；
3. 操作流程优化：倒计时结束后保留「重新设置」按钮，无需返回时钟页面即可再次设置，减少操作步骤。

#### 二、视觉交互重构（核心视觉痛点解决）
1. 倒计时选择器全新设计：
   - 替换原生下拉列表：彻底移除老式、突兀的原生滚动滚轮，改用自定义模拟下拉样式；
   - 文字精准居中：通过 `text-align: center` + 兼容性适配，实现小时/分钟数值绝对居中，解决文字靠左问题；
   - 精致滚动条：仅保留4px极细自定义滚动条（几乎不可见），兼顾功能与视觉美观；
2. 样式统一化升级：
   - 配色体系统一：按钮、弹窗、选择器采用深蓝灰（#2c3e50）+ 浅灰白（#ecf0f1）主配色，视觉风格协调；
   - 交互反馈增强：选择器/按钮增加 hover/聚焦状态样式，弹窗冒号与提示文字统一使用醒目黄色（#f1c40f），视觉呼应；
3. 动态字体适配：倒计时文字根据内容长度（仅分秒/个位数小时/两位数小时）自动调整字体大小，适配手机/大屏等不同设备。

#### 三、细节体验提升
1. 时间选择器智能校验：
   - 仅显示当天未到的时间，小时切换时自动更新可选分钟列表；
   - 无可用时间时禁用确认按钮并给出提示，避免无效操作；
2. 弹窗交互优化：点击弹窗遮罩层可关闭弹窗，符合通用交互习惯；
3. 全屏功能兼容：适配标准/webkit/ms 多浏览器全屏 API，确保全屏/退出全屏功能稳定；
4. 模拟时钟细节：优化表盘刻度、指针样式，中心圆点与整体配色统一，视觉更精致。

## 核心特性总结
| 特性                | 说明                                   |
|---------------------|----------------------------------------|
| 双模式切换          | 数字/模拟时钟 ↔ 自定义终点时间倒计时   |
| 全屏显示            | 一键全屏/退出，适配Chrome/Firefox/Edge等多浏览器 |
| 倒计时状态记忆      | 返回时钟后切回倒计时可恢复之前的有效设置   |
| 视觉风格统一        | 无突兀原生控件，文字居中，配色协调，交互有反馈 |
| 操作容错性高        | 防重复点击、空值处理、时间有效性校验   |
| 响应式适配          | 倒计时文字根据内容/屏幕尺寸动态调整    |

## 使用说明
1. 时钟模式：默认显示数字时钟（年月日+时分秒）+ 模拟时钟，点击「全屏显示」可进入全屏；
2. 倒计时模式：
   - 点击「倒计时」按钮打开弹窗，选择当天未到的终点时间（仅显示可用时间）；
   - 倒计时中可点击「重新设置」修改时间，或点击「返回时钟」暂停倒计时；
   - 倒计时结束后可直接点击「重新设置」再次创建倒计时。